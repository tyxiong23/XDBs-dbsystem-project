## 必做

#### 基本运行

```
略
```



#### 系统管理

```
CREATE DATABASE DB;
CREATE DATABASE DB1;
USE DB;
USE DB1;
DROP DATABASE DB1;
USE DB;
CREATE TABLE A(A FLOAT, B INT(8));
DESC A;
ALTER TABLE A DROP A;
ALTER TABLE A ADD C VARCHAR(10);
DESC A;
```



#### 查询解析

```
INSERT INTO A VALUES(1, '1');
UPDATE A SET B=0 WHERE A.B=1;
SELECT B, C FROM A WHERE B<2;
CREATE TABLE D(E INT(8), F VARCHAR(8));
DELETE FROM A WHERE B<>1;
INSERT INTO A VALUES(2, '2');
INSERT INTO D VALUES(3, '4');
SELECT A.B, A.C FROM A WHERE A.B=2;
INSERT INTO A VALUES(3, '2');
SELECT A.B, D.E FROM A,D WHERE A.B=D.E;
INSERT INTO A VALUES('1'); #ERROR
INSERT INTO C VALUES(1); #ERROR
INSERT INTO A VALUES(1, 1);#ERROR
DROP DATABASE DB;
```



#### 完整性约束

```
主键约束：
CREATE DATABASE DB;
USE DB;
CREATE TABLE A(A INT(8), PRIMARY KEY(A));
INSERT INTO A VALUES(1);
INSERT INTO A VALUES(1);#error
DELETE FROM A WHERE A=1;
联合主键：
CREATE TABLE B(B INT(8), BB INT(8), PRIMARY KEY(B, BB));
INSERT INTO B VALUES(1,1);
INSERT INTO B VALUES(1,2);
INSERT INTO B VALUES(1,1);#error
外键约束：
DROP DATABASE DB;
CREATE DATABASE DB;
USE DB;
 CREATE TABLE A(A INT(10), PRIMARY KEY(A));
 CREATE TABLE B(B INT(10));
 ALTER TABLE B ADD UNIQUE B(B);
 ALTER TABLE B ADD FOREIGN KEY(B) REFERENCES A(A);
 INSERT INTO A VALUES(1);
 INSERT INTO A VALUES(2);
 INSERT INTO B VALUES(2);
 INSERT INTO B VALUES(3);#报错
 UPDATE A SET A=3 WHERE A.A=2; #报错
 UPDATE B SET B=3 WHERE B.B=2; #报错
 DELETE FROM B WHERE B=2;
 INSERT INTO B VALUES(2);
 DELETE FROM A WHERE A=1;
 DELETE FROM A WHERE A=2; #报错
 外键增删：
 ALTER TABLE B DROP FOREIGN KEY B;
 INSERT INTO B VALUES(3);
 DELETE FROM B WHERE B=3;
 ALTER TABLE B ADD FOREIGN KEY(B) REFERENCES A(A);
 INSERT INTO B VALUES(3); #报错
 
```



#### 模式管理

```
联合主键：
CREATE TABLE J(A INT(10), B INT(10), PRIMARY KEY(A,B));
INSERT INTO J VALUES(1,2);
INSERT INTO J VALUES(2,2);
DELETE FROM J WHERE B=2;
CREATE TABLE K(A INT(10), B INT(10));
ALTER TABLE K ADD PRIMARY KEY(A,B);
INSERT INTO K VALUES(1,2);
INSERT INTO K VALUES(2,2);
DELETE FROM K WHERE B=2;
ALTER TABLE K DROP PRIMARY KEY;
```



#### 索引模块

```
索引增删：
CREATE TABLE X(A INT(8), B INT(8));
INSERT INTO X VALUES(1, 2);
INSERT INTO X VALUES(1, 3);
INSERT INTO X VALUES(2, 3);
INSERT INTO X VALUES(3, 4);
SELECT * FROM X WHERE B=3;
CREATE INDEX I ON B(B);
DROP INDEX I;
ALTER TABLE B ADD INDEX H(B);#
ALTER TABLE B DROP INDEX H;



python main.py -f path

```



# 选做



```
聚集查询：
CREATE TABLE T1(A INT(10), B VARCHAR(10));
INSERT INTO T1 VALUES(1,'ABECF');
INSERT INTO T1 VALUES(2,'BCD');
INSERT INTO T1 VALUES(3,'CDBD');
INSERT INTO T1 VALUES(4,'CDE');
SELECT COUNT (A) FROM T1;
SELECT AVG(A) FROM T1;
SELECT MAX(A) FROM T1;
SELECT MIN(A) FROM T1;
SELECT SUM(A) FROM T1;
模糊查询：
SELECT * FROM T1 WHERE B LIKE '%C_';
SELECT * FROM T1 WHERE B LIKE '%B%';
SELECT * FROM T1 WHERE B LIKE '_D_';
嵌套查询：
CREATE TABLE T2(A INT(10), B INT(10));
INSERT INTO T2 VALUES(1,2);
INSERT INTO T2 VALUES(2,3);
SELECT * FROM H WHERE A IN (1,2);
SELECT * FROM H WHERE A IN (SELECT B FROM H);
分页：
SELECT * FROM H LIMIT 1 OFFSET 1;
分组：
INSERT INTO H VALUES(1,3);
INSERT INTO H VALUES(2,4);
SELECT A, SUM(B) FROM H GROUP BY A;
SELECT A, AVG(B) FROM H GROUP BY A;
日期：
CREATE TABLE I(D DATE);
INSERT INTO I VALUES('2022-1-9');
SELECT * FROM I;
UNIQUE约束：
CREATE TABLE KK VALUES(K INT(10)); 
ALTER TABLE KK ADD UNIQUE MYU(K);
INSERT INTO KK VALUES(1);
INSERT INTO KK VALUES(1); #ERROR
NULL约束：
CREATE TABLE L(A INT(10));
INSERT INTO L VALUES(NULL);
SELECT * FROM L WHERE A IS NOT NULL;
```


